<!-- Include Widgets -->
<link rel="import" href="../widgets/tabs.html">
<link rel="import" href="../widgets/accordion.html">

<polymer-element name="wi-dock" attributes="accordion tabbed">
  <template>
    <style>
      :host {
        flex-grow: {{weight}};
        flex-shrink: 0;
        display: -webkit-flex;
        display: flex;
      }
      
      :host(.is-resizing) {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        -o-user-select: none;
        user-select: none;     
      }
      
      :host(.accordion) {
        box-sizing:border-box;
        display: -webkit-flex;
        display: flex;
        box-sizing:border-box;
        flex-direction: column;
      }
      /*
      :host(.accordion) ::content * {
        flex-grow: 1;
      }
      */
      
      :host(.tabbed) ::content {
        
      }
    </style>
    <template if="{{ accordion }}">
      <wi-accordion>
        <template repeat="{{ child in observableChildren | enumerate }}">
          <wi-accordion-item label="{{ child.value.label }}">
            <content _select=":nth-child({{child.index+1}})"></content>
          </wi-accordion-item>
        </template>
      </wi-accordion>
    </template>
    
    <template if="{{ tabbed }}">
      <wi-tabs>
        <template bind repeat="{{ child in observableChildren | enumerate }}">
          <wi-tabs-item label="{{ child.value.label }}">
            <content _select=":nth-child({{child.index+1}})"></content>
          </wi-tabs-item>
        </template>
      </wi-tabs>
    </template>
  </template>

  <script type="application/dart;component=1" src="wi-dock.dart"></script>
</polymer-element>