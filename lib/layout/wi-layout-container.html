<link rel="import" href="wi-splitter.html">

<polymer-element name="wi-layout-container">
  <template>
    <style>
      :host {
        /*flex-grow: {{weight}};*/
        flex-shrink: 0;
        box-sizing:border-box;
        display: -webkit-flex;
        display: flex;
        box-sizing:border-box;
        flex-wrap: nowrap;
      }
      
      :host(.vertical) {
        flex-direction: row;
      }
      
      :host(.horizontal) {
        flex-direction: column;
      }
      
      :host(.is-resizing) {
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        -o-user-select: none;
        user-select: none;     
      }
    </style>
    
    <template if="{{resizable}}">
      <template repeat="{{ child in observableChildren | enumerate }}">
      <!-- :nth-child({{child.index+1}}) -->
        <content _select=".nth-child-{{child.index+1}}"></content>
        <template if="{{ child.index+1 < observableChildren.length }}">
          <wi-splitter _horizontal="{{horizontal}}" _vertical="{{vertical}}"></wi-splitter>
        </template>
     </template>
    </template>
    
    <template if="{{!resizable}}">
      <content></content>
    </template>
  </template>

  <script type="application/dart;component=1" src="wi-layout-container.dart"></script>
</polymer-element>